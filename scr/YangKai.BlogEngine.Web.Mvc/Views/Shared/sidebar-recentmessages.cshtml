<div class="widget" id="recentmessages">
    <h3>最新留言</h3>
    <div class="ko-area-loader" data-bind="visible: board().length == 0"></div>
    <ul data-bind="template: { name: 'recentBoardViewModelTemplate', foreach: board, afterAdd: elementFadeIn }">
    </ul>
</div>
<script type="text/javascript">
    function RecentBoardViewModel() {
        var self = this;
        self.board = ko.observableArray();
        $.getJSON('/board/recent', self.board);
    }

    $(document).ready(function() {
        ko.applyBindings(new RecentBoardViewModel(),$("#recentmessages")[0]);
    });
</script>
<script type="text/html" id="recentBoardViewModelTemplate">
    <li>
        <a href="/board" data-bind="text: $data.Author, attr: { title: $data.Content }"></a>
        :
        <span data-bind="html: $data.Content"></span>
    </li>
</script>