var BoardController=["$scope","$http","Message",function(n,t,i){return n.entity={},n.isAdmin=!1,n.loading=!0,t.get("/comment/UserInfo").success(function(t){return n.entity.Author=t.Author,n.entity.Email=t.Email,n.entity.Url=t.Url,n.AuthorForDisplay=t.Author,n.editmode=t.Author===""}),n.list=i.query(function(){return n.loading=!1}),n.del=function(n){return t.post("/board/delete","{id:'"+n.BoardId+"'}").success(function(t){return t.result?(message.success("“#"+n.Content+"”  be moved to trash."),n.IsDeleted=!0):message.error(t.reason)})},n.renew=function(n){return t.post("/board/renew","{id:'"+n.BoardId+"'}").success(function(t){return t.result?(message.success("“#"+n.Content+"”  be moved to trash."),n.IsDeleted=!1):message.error(t.reason)})},n.save=function(){return n.submitting=!0,t.post("/board/add",n.entity).success(function(t){return t.result?(message.success("Message has been submitted."),n.list.unshift(t.model),n.entity.Content="",n.AuthorForDisplay=t.model.Author,n.editmode=!1,angular.resetForm(n,"form")):message.error(t.reason),n.submitting=!1})}}]